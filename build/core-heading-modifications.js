(()=>{"use strict";const e=function(e){return"string"!=typeof e||""===e?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)},t=function(e){return"string"!=typeof e||""===e?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)},n=function(n,o){return function(r,i,s,a=10){const c=n[o];if(!t(r))return;if(!e(i))return;if("function"!=typeof s)return void console.error("The hook callback must be a function.");if("number"!=typeof a)return void console.error("If specified, the hook priority must be a number.");const l={callback:s,priority:a,namespace:i};if(c[r]){const e=c[r].handlers;let t;for(t=e.length;t>0&&!(a>=e[t-1].priority);t--);t===e.length?e[t]=l:e.splice(t,0,l),c.__current.forEach((e=>{e.name===r&&e.currentIndex>=t&&e.currentIndex++}))}else c[r]={handlers:[l],runs:0};"hookAdded"!==r&&n.doAction("hookAdded",r,i,s,a)}},o=function(n,o,r=!1){return function(i,s){const a=n[o];if(!t(i))return;if(!r&&!e(s))return;if(!a[i])return 0;let c=0;if(r)c=a[i].handlers.length,a[i]={runs:a[i].runs,handlers:[]};else{const e=a[i].handlers;for(let t=e.length-1;t>=0;t--)e[t].namespace===s&&(e.splice(t,1),c++,a.__current.forEach((e=>{e.name===i&&e.currentIndex>=t&&e.currentIndex--})))}return"hookRemoved"!==i&&n.doAction("hookRemoved",i,s),c}},r=function(e,t){return function(n,o){const r=e[t];return void 0!==o?n in r&&r[n].handlers.some((e=>e.namespace===o)):n in r}},i=function(e,t,n,o){return function(r,...i){const s=e[t];s[r]||(s[r]={handlers:[],runs:0}),s[r].runs++;const a=s[r].handlers;if(!a||!a.length)return n?i[0]:void 0;const c={name:r,currentIndex:0};return(o?async function(){try{s.__current.add(c);let e=n?i[0]:void 0;for(;c.currentIndex<a.length;){const t=a[c.currentIndex];e=await t.callback.apply(null,i),n&&(i[0]=e),c.currentIndex++}return n?e:void 0}finally{s.__current.delete(c)}}:function(){try{s.__current.add(c);let e=n?i[0]:void 0;for(;c.currentIndex<a.length;)e=a[c.currentIndex].callback.apply(null,i),n&&(i[0]=e),c.currentIndex++;return n?e:void 0}finally{s.__current.delete(c)}})()}},s=function(e,t){return function(){var n;const o=e[t],r=Array.from(o.__current);return null!==(n=r.at(-1)?.name)&&void 0!==n?n:null}},a=function(e,t){return function(n){const o=e[t];return void 0===n?o.__current.size>0:Array.from(o.__current).some((e=>e.name===n))}},c=function(e,n){return function(o){const r=e[n];if(t(o))return r[o]&&r[o].runs?r[o].runs:0}};class l{constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=n(this,"actions"),this.addFilter=n(this,"filters"),this.removeAction=o(this,"actions"),this.removeFilter=o(this,"filters"),this.hasAction=r(this,"actions"),this.hasFilter=r(this,"filters"),this.removeAllActions=o(this,"actions",!0),this.removeAllFilters=o(this,"filters",!0),this.doAction=i(this,"actions",!1,!1),this.doActionAsync=i(this,"actions",!1,!0),this.applyFilters=i(this,"filters",!0,!1),this.applyFiltersAsync=i(this,"filters",!0,!0),this.currentAction=s(this,"actions"),this.currentFilter=s(this,"filters"),this.doingAction=a(this,"actions"),this.doingFilter=a(this,"filters"),this.didAction=c(this,"actions"),this.didFilter=c(this,"filters")}}const d=new l,{addAction:u,addFilter:h,removeAction:f,removeFilter:p,hasAction:m,hasFilter:g,removeAllActions:v,removeAllFilters:b,doAction:w,doActionAsync:A,applyFilters:y,applyFiltersAsync:k,currentAction:_,currentFilter:F,doingAction:x,doingFilter:I,didAction:E,didFilter:C,actions:T,filters:L}=d,N=wp.blockEditor,O=wp.components;wp.element,console.log("Script loaded for Core Heading Modifications");const z=()=>{if(void 0!==window.wp&&wp.blocks&&wp.hooks&&wp.data){console.log("wp, wp.blocks, wp.hooks, and wp.data are available");const e=wp.blocks.getBlockType("core/heading");if(e){console.log("Original core/heading settings:",e);const t={attributes:{...e.attributes,navigationLabel:{type:"string",default:""},excludeFromNavigation:{type:"boolean",default:!1}}},n=wp.compose.createHigherOrderComponent((e=>t=>{if("core/heading"!==t.name)return wp.element.createElement(e,t);const{attributes:n,setAttributes:o}=t,{navigationLabel:r,excludeFromNavigation:i}=n;return wp.element.createElement(React.Fragment,null,wp.element.createElement(e,t),wp.element.createElement(N.InspectorControls,null,wp.element.createElement(O.PanelBody,{title:"Navigation Settings"},wp.element.createElement(O.TextControl,{label:"Navigation Label",value:r,onChange:e=>o({navigationLabel:e}),help:"Custom label for this heading in the navigation menu."}),wp.element.createElement(O.ToggleControl,{label:"Exclude from Navigation",checked:i,onChange:e=>o({excludeFromNavigation:e}),help:"Exclude this heading from the navigation menu."}))))}),"addHeadingInspectorControls"),o=(e,t,n)=>("core/heading"===t.name&&(n.navigationLabel&&(e["data-navigation-label"]=n.navigationLabel),n.excludeFromNavigation&&(e["data-exclude-from-navigation"]=n.excludeFromNavigation)),e);wp.hooks.addFilter("editor.BlockEdit","custom/heading-inspector-controls",n),wp.hooks.addFilter("blocks.getSaveContent.extraProps","custom/save-heading-attributes",o),wp.blocks.unregisterBlockType("core/heading"),wp.blocks.registerBlockType("core/heading",{...e,...t}),console.log("core/heading block modified successfully")}else console.log("core/heading block not found");clearInterval(B)}else console.log("Waiting for wp.blocks, wp.hooks, and wp.data...")};let B;window.addEventListener("DOMContentLoaded",(()=>{console.log("DOMContentLoaded event fired, starting wp dependency check for core/heading modifications..."),B=setInterval(z,100)}))})();