(()=>{"use strict";const e=function(e){return"string"!=typeof e||""===e?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)},t=function(e){return"string"!=typeof e||""===e?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)},n=function(n,r){return function(o,i,s,c=10){const a=n[r];if(!t(o))return;if(!e(i))return;if("function"!=typeof s)return void console.error("The hook callback must be a function.");if("number"!=typeof c)return void console.error("If specified, the hook priority must be a number.");const l={callback:s,priority:c,namespace:i};if(a[o]){const e=a[o].handlers;let t;for(t=e.length;t>0&&!(c>=e[t-1].priority);t--);t===e.length?e[t]=l:e.splice(t,0,l),a.__current.forEach((e=>{e.name===o&&e.currentIndex>=t&&e.currentIndex++}))}else a[o]={handlers:[l],runs:0};"hookAdded"!==o&&n.doAction("hookAdded",o,i,s,c)}},r=function(n,r,o=!1){return function(i,s){const c=n[r];if(!t(i))return;if(!o&&!e(s))return;if(!c[i])return 0;let a=0;if(o)a=c[i].handlers.length,c[i]={runs:c[i].runs,handlers:[]};else{const e=c[i].handlers;for(let t=e.length-1;t>=0;t--)e[t].namespace===s&&(e.splice(t,1),a++,c.__current.forEach((e=>{e.name===i&&e.currentIndex>=t&&e.currentIndex--})))}return"hookRemoved"!==i&&n.doAction("hookRemoved",i,s),a}},o=function(e,t){return function(n,r){const o=e[t];return void 0!==r?n in o&&o[n].handlers.some((e=>e.namespace===r)):n in o}},i=function(e,t,n,r){return function(o,...i){const s=e[t];s[o]||(s[o]={handlers:[],runs:0}),s[o].runs++;const c=s[o].handlers;if(!c||!c.length)return n?i[0]:void 0;const a={name:o,currentIndex:0};return(r?async function(){try{s.__current.add(a);let e=n?i[0]:void 0;for(;a.currentIndex<c.length;){const t=c[a.currentIndex];e=await t.callback.apply(null,i),n&&(i[0]=e),a.currentIndex++}return n?e:void 0}finally{s.__current.delete(a)}}:function(){try{s.__current.add(a);let e=n?i[0]:void 0;for(;a.currentIndex<c.length;)e=c[a.currentIndex].callback.apply(null,i),n&&(i[0]=e),a.currentIndex++;return n?e:void 0}finally{s.__current.delete(a)}})()}},s=function(e,t){return function(){var n;const r=e[t],o=Array.from(r.__current);return null!==(n=o.at(-1)?.name)&&void 0!==n?n:null}},c=function(e,t){return function(n){const r=e[t];return void 0===n?r.__current.size>0:Array.from(r.__current).some((e=>e.name===n))}},a=function(e,n){return function(r){const o=e[n];if(t(r))return o[r]&&o[r].runs?o[r].runs:0}};class l{constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=n(this,"actions"),this.addFilter=n(this,"filters"),this.removeAction=r(this,"actions"),this.removeFilter=r(this,"filters"),this.hasAction=o(this,"actions"),this.hasFilter=o(this,"filters"),this.removeAllActions=r(this,"actions",!0),this.removeAllFilters=r(this,"filters",!0),this.doAction=i(this,"actions",!1,!1),this.doActionAsync=i(this,"actions",!1,!0),this.applyFilters=i(this,"filters",!0,!1),this.applyFiltersAsync=i(this,"filters",!0,!0),this.currentAction=s(this,"actions"),this.currentFilter=s(this,"filters"),this.doingAction=c(this,"actions"),this.doingFilter=c(this,"filters"),this.didAction=a(this,"actions"),this.didFilter=a(this,"filters")}}const u=new l,{addAction:d,addFilter:h,removeAction:f,removeFilter:p,hasAction:m,hasFilter:g,removeAllActions:v,removeAllFilters:A,doAction:b,doActionAsync:y,applyFilters:_,applyFiltersAsync:F,currentAction:x,currentFilter:k,doingAction:w,doingFilter:E,didAction:I,didFilter:C,actions:T,filters:N}=u,Z=wp.blockEditor,j=wp.components,z=wp.element;var L=function(){return L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},L.apply(this,arguments)};function O(e){return e.toLowerCase()}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var $=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],R=/[^A-Z0-9]+/gi;function S(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function B(e,t){var n=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}const P=(e,t)=>{const n=t.displayName||t.name||"Component";return`${r=null!=e?e:"",void 0===o&&(o={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?$:n,o=t.stripRegexp,i=void 0===o?R:o,s=t.transform,c=void 0===s?O:s,a=t.delimiter,l=void 0===a?" ":a,u=S(S(e,r,"$1\0$2"),i,"\0"),d=0,h=u.length;"\0"===u.charAt(d);)d++;for(;"\0"===u.charAt(h-1);)h--;return u.slice(d,h).split("\0").map(c).join(l)}(r,L({delimiter:"",transform:B},o))}(${n})`;var r,o},H=(U=e=>t=>{if("core/heading"!==t.name)return wp.element.createElement(e,t);const{attributes:n,setAttributes:r}=t,{navigationLabel:o,excludeFromNavigation:i}=n;return wp.element.createElement(z.Fragment,null,wp.element.createElement(e,t),wp.element.createElement(Z.InspectorControls,null,wp.element.createElement(j.PanelBody,{title:"Navigation Settings"},wp.element.createElement(j.TextControl,{label:"Navigation Label",value:o||"",onChange:e=>r({navigationLabel:e}),help:"Custom label for this heading in the navigation menu."}),wp.element.createElement(j.ToggleControl,{label:"Exclude from Navigation",checked:!!i,onChange:e=>r({excludeFromNavigation:e}),help:"Exclude this heading from the navigation menu."}))))},e=>{const t=U(e);return t.displayName=P("addHeadingInspectorControls",e),t});var U;h("blocks.registerBlockType","custom/heading-attributes",(function(e,t){return"core/heading"===t&&(e.attributes={...e.attributes,navigationLabel:{type:"string",default:""},excludeFromNavigation:{type:"boolean",default:!1}}),e})),h("editor.BlockEdit","custom/heading-inspector-controls",H),h("blocks.registerBlockType","custom/override-heading-save",(function(e,t){if("core/heading"===t){const t=e.save;e.save=e=>{const{navigationLabel:n,excludeFromNavigation:r}=e.attributes,o=t(e);if(o?.props){const e={...o.props,...n?{"data-nav-label":n}:{},...r?{"data-exclude-nav":"true"}:{}};return wp.element.cloneElement(o,e)}return o}}return e}))})();