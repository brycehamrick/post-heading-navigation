(()=>{"use strict";const e=wp.blocks,t=wp.blockEditor,n=wp.components,o=wp.element;var a=function(){return a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)};function r(e){return e.toLowerCase()}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var l=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],i=/[^A-Z0-9]+/gi;function s(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function c(e,t){var n=e.charAt(0),o=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+o:""+n.toUpperCase()+o}const u=(e,t)=>{const n=t.displayName||t.name||"Component";return`${o=null!=e?e:"",void 0===u&&(u={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,o=void 0===n?l:n,a=t.stripRegexp,c=void 0===a?i:a,u=t.transform,p=void 0===u?r:u,m=t.delimiter,g=void 0===m?" ":m,d=s(s(e,o,"$1\0$2"),c,"\0"),v=0,b=d.length;"\0"===d.charAt(v);)v++;for(;"\0"===d.charAt(b-1);)b--;return d.slice(v,b).split("\0").map(p).join(g)}(o,a({delimiter:"",transform:c},u))}(${n})`;var o,u};(0,e.registerBlockType)("custom/post-heading-navigation",{title:"Post Heading Navigation",icon:"list-view",category:"widgets",attributes:{maxHeadingLevel:{type:"number",default:2}},edit({attributes:e,setAttributes:a}){const{maxHeadingLevel:r}=e;return wp.element.createElement(o.Fragment,null,wp.element.createElement(t.InspectorControls,null,wp.element.createElement(n.PanelBody,{title:"Navigation Settings"},wp.element.createElement(n.SelectControl,{label:"Maximum Heading Level",value:r,options:[{label:"H2",value:2},{label:"H3",value:3},{label:"H4",value:4}],onChange:e=>a({maxHeadingLevel:parseInt(e,10)})}))),wp.element.createElement("div",null,`Navigation Menu up to H${r}`))},save:()=>null});const p=(m=e=>(console.log("withInspectorControls is loading"),a=>{if("core/heading"!==a.name)return wp.element.createElement(e,a);const{attributes:r,setAttributes:l}=a,{navigationLabel:i,excludeFromNavigation:s}=r;return wp.element.createElement(o.Fragment,null,wp.element.createElement(e,a),wp.element.createElement(t.InspectorControls,null,wp.element.createElement(n.PanelBody,{title:"Navigation Settings"},wp.element.createElement(n.TextControl,{label:"Navigation Label",value:i,onChange:e=>l({navigationLabel:e}),help:"Custom text for this heading in the navigation."}),wp.element.createElement(n.ToggleControl,{label:"Exclude from Navigation",checked:s,onChange:e=>l({excludeFromNavigation:e})}))))}),e=>{const t=m(e);return t.displayName=u("withInspectorControls",e),t});var m;wp.hooks.addFilter("blocks.registerBlockType","custom/heading-attributes",(function(e,t){return console.log("withInspectorControls is loading"),"core/heading"===t&&(e.attributes={...e.attributes,navigationLabel:{type:"string",default:""},excludeFromNavigation:{type:"boolean",default:!1}}),e})),wp.hooks.addFilter("blocks.BlockEdit","custom/with-inspector-controls",p)})();