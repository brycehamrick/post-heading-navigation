(()=>{"use strict";const e=wp.blocks,t=wp.blockEditor,n=wp.components,r=wp.element,o=function(e){return"string"!=typeof e||""===e?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)},i=function(e){return"string"!=typeof e||""===e?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)},s=function(e,t){return function(n,r,s,l=10){const a=e[t];if(!i(n))return;if(!o(r))return;if("function"!=typeof s)return void console.error("The hook callback must be a function.");if("number"!=typeof l)return void console.error("If specified, the hook priority must be a number.");const c={callback:s,priority:l,namespace:r};if(a[n]){const e=a[n].handlers;let t;for(t=e.length;t>0&&!(l>=e[t-1].priority);t--);t===e.length?e[t]=c:e.splice(t,0,c),a.__current.forEach((e=>{e.name===n&&e.currentIndex>=t&&e.currentIndex++}))}else a[n]={handlers:[c],runs:0};"hookAdded"!==n&&e.doAction("hookAdded",n,r,s,l)}},l=function(e,t,n=!1){return function(r,s){const l=e[t];if(!i(r))return;if(!n&&!o(s))return;if(!l[r])return 0;let a=0;if(n)a=l[r].handlers.length,l[r]={runs:l[r].runs,handlers:[]};else{const e=l[r].handlers;for(let t=e.length-1;t>=0;t--)e[t].namespace===s&&(e.splice(t,1),a++,l.__current.forEach((e=>{e.name===r&&e.currentIndex>=t&&e.currentIndex--})))}return"hookRemoved"!==r&&e.doAction("hookRemoved",r,s),a}},a=function(e,t){return function(n,r){const o=e[t];return void 0!==r?n in o&&o[n].handlers.some((e=>e.namespace===r)):n in o}},c=function(e,t,n,r){return function(o,...i){const s=e[t];s[o]||(s[o]={handlers:[],runs:0}),s[o].runs++;const l=s[o].handlers;if(!l||!l.length)return n?i[0]:void 0;const a={name:o,currentIndex:0};return(r?async function(){try{s.__current.add(a);let e=n?i[0]:void 0;for(;a.currentIndex<l.length;){const t=l[a.currentIndex];e=await t.callback.apply(null,i),n&&(i[0]=e),a.currentIndex++}return n?e:void 0}finally{s.__current.delete(a)}}:function(){try{s.__current.add(a);let e=n?i[0]:void 0;for(;a.currentIndex<l.length;)e=l[a.currentIndex].callback.apply(null,i),n&&(i[0]=e),a.currentIndex++;return n?e:void 0}finally{s.__current.delete(a)}})()}},u=function(e,t){return function(){var n;const r=e[t],o=Array.from(r.__current);return null!==(n=o.at(-1)?.name)&&void 0!==n?n:null}},d=function(e,t){return function(n){const r=e[t];return void 0===n?r.__current.size>0:Array.from(r.__current).some((e=>e.name===n))}},h=function(e,t){return function(n){const r=e[t];if(i(n))return r[n]&&r[n].runs?r[n].runs:0}};class m{constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=s(this,"actions"),this.addFilter=s(this,"filters"),this.removeAction=l(this,"actions"),this.removeFilter=l(this,"filters"),this.hasAction=a(this,"actions"),this.hasFilter=a(this,"filters"),this.removeAllActions=l(this,"actions",!0),this.removeAllFilters=l(this,"filters",!0),this.doAction=c(this,"actions",!1,!1),this.doActionAsync=c(this,"actions",!1,!0),this.applyFilters=c(this,"filters",!0,!1),this.applyFiltersAsync=c(this,"filters",!0,!0),this.currentAction=u(this,"actions"),this.currentFilter=u(this,"filters"),this.doingAction=d(this,"actions"),this.doingFilter=d(this,"filters"),this.didAction=h(this,"actions"),this.didFilter=h(this,"filters")}}const p=new m,{addAction:f,addFilter:g,removeAction:v,removeFilter:A,hasAction:b,hasFilter:y,removeAllActions:w,removeAllFilters:_,doAction:x,doActionAsync:F,applyFilters:k,applyFiltersAsync:E,currentAction:I,currentFilter:C,doingAction:N,doingFilter:L,didAction:T,didFilter:H,actions:Z,filters:j}=p;var z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},z.apply(this,arguments)};function O(e){return e.toLowerCase()}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var S=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],$=/[^A-Z0-9]+/gi;function B(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function R(e,t){var n=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}const P=(e,t)=>{const n=t.displayName||t.name||"Component";return`${r=null!=e?e:"",void 0===o&&(o={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?S:n,o=t.stripRegexp,i=void 0===o?$:o,s=t.transform,l=void 0===s?O:s,a=t.delimiter,c=void 0===a?" ":a,u=B(B(e,r,"$1\0$2"),i,"\0"),d=0,h=u.length;"\0"===u.charAt(d);)d++;for(;"\0"===u.charAt(h-1);)h--;return u.slice(d,h).split("\0").map(l).join(c)}(r,z({delimiter:"",transform:R},o))}(${n})`;var r,o};(0,e.registerBlockType)("custom/post-heading-navigation",{title:"Post Heading Navigation",icon:"list-view",category:"widgets",attributes:{maxHeadingLevel:{type:"number",default:2}},edit({attributes:e,setAttributes:o}){const{maxHeadingLevel:i}=e;return wp.element.createElement(r.Fragment,null,wp.element.createElement(t.InspectorControls,null,wp.element.createElement(n.PanelBody,{title:"Navigation Settings"},wp.element.createElement(n.SelectControl,{label:"Maximum Heading Level",value:i,options:[{label:"H2",value:2},{label:"H3",value:3},{label:"H4",value:4}],onChange:e=>o({maxHeadingLevel:parseInt(e,10)})}))),wp.element.createElement("div",null,`Navigation Menu up to H${i}`))},save:()=>null});const M=(U=e=>(console.log("withInspectorControls is loading"),o=>{if("core/heading"!==o.name)return wp.element.createElement(e,o);const{attributes:i,setAttributes:s}=o,{navigationLabel:l,excludeFromNavigation:a}=i;return wp.element.createElement(r.Fragment,null,wp.element.createElement(e,o),wp.element.createElement(t.InspectorControls,null,wp.element.createElement(n.PanelBody,{title:"Navigation Settings"},wp.element.createElement(n.TextControl,{label:"Navigation Label",value:l,onChange:e=>s({navigationLabel:e}),help:"Custom text for this heading in the navigation."}),wp.element.createElement(n.ToggleControl,{label:"Exclude from Navigation",checked:a,onChange:e=>s({excludeFromNavigation:e})}))))}),e=>{const t=U(e);return t.displayName=P("withInspectorControls",e),t});var U;g("blocks.registerBlockType","custom/heading-attributes",(function(e,t){return console.log("withInspectorControls is loading"),"core/heading"===t&&(e.attributes={...e.attributes,navigationLabel:{type:"string",default:""},excludeFromNavigation:{type:"boolean",default:!1}}),e})),g("blocks.BlockEdit","custom/with-inspector-controls",M)})();