(()=>{"use strict";const e=wp.blocks,t=wp.blockEditor,n=wp.components,o=wp.element;var r=function(){return r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};function l(e){return e.toLowerCase()}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var a=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],i=/[^A-Z0-9]+/gi;function s(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function c(e,t){var n=e.charAt(0),o=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+o:""+n.toUpperCase()+o}const p=(e,t)=>{const n=t.displayName||t.name||"Component";return`${o=null!=e?e:"",void 0===p&&(p={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,o=void 0===n?a:n,r=t.stripRegexp,c=void 0===r?i:r,p=t.transform,u=void 0===p?l:p,m=t.delimiter,g=void 0===m?" ":m,d=s(s(e,o,"$1\0$2"),c,"\0"),v=0,w=d.length;"\0"===d.charAt(v);)v++;for(;"\0"===d.charAt(w-1);)w--;return d.slice(v,w).split("\0").map(u).join(g)}(o,r({delimiter:"",transform:c},p))}(${n})`;var o,p};(0,e.registerBlockType)("custom/post-heading-navigation",{title:"Post Heading Navigation",icon:"list-view",category:"widgets",attributes:{maxHeadingLevel:{type:"number",default:2}},edit({attributes:e,setAttributes:r}){const{maxHeadingLevel:l}=e;return wp.element.createElement(o.Fragment,null,wp.element.createElement(t.InspectorControls,null,wp.element.createElement(n.PanelBody,{title:"Navigation Settings"},wp.element.createElement(n.SelectControl,{label:"Maximum Heading Level",value:l,options:[{label:"H2",value:2},{label:"H3",value:3},{label:"H4",value:4}],onChange:e=>r({maxHeadingLevel:parseInt(e,10)})}))),wp.element.createElement("div",null,`Navigation Menu up to H${l}`))},save:()=>null});const u=(m=e=>r=>"core/heading"!==r.name?wp.element.createElement(e,r):(console.log("withInspectorControls running for core/heading"),wp.element.createElement(o.Fragment,null,wp.element.createElement(e,r),wp.element.createElement(t.InspectorControls,null,wp.element.createElement(n.PanelBody,{title:"Test Panel"},wp.element.createElement("p",null,"Test control visible in Heading block"))))),e=>{const t=m(e);return t.displayName=p("withInspectorControls",e),t});var m;console.log("Initializing Post Heading Navigation filters"),wp.hooks.addFilter("blocks.registerBlockType","custom/heading-attributes",(function(e,t){return console.log("withInspectorControls is loading"),"core/heading"===t&&(e.attributes={...e.attributes,navigationLabel:{type:"string",default:""},excludeFromNavigation:{type:"boolean",default:!1}}),e})),wp.hooks.addFilter("blocks.BlockEdit","custom/with-inspector-controls",u)})();